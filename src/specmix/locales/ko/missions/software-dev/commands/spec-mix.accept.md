---
description: 기능 준비 상태를 확인하고 병합 준비
---

## 사용자 입력

```text

$ARGUMENTS

```text

진행하기 전에 사용자 입력을 **반드시** 고려해야 합니다(비어있지 않은 경우).

## 개요

이 명령은 기능을 병합하기 전에 최종 수락 검사를 수행합니다. 모든 작업이 완료되었는지, 품질 기준이 충족되었는지, 기능이 통합 준비가 되었는지 확인합니다.

## 실행 흐름

1. **기능 식별**:
- 브랜치 또는 사용자 입력에서 현재 기능 결정
- `specs/{feature}/` 디렉토리 위치 확인

1. **종합 검사 실행**:

### ✅ 작업 완료 검사

   ```bash

   # 모든 작업이 done 레인에 있는지 확인

   ls specs/{feature}/tasks/done/*.md
   ls specs/{feature}/tasks/planned/*.md
   ls specs/{feature}/tasks/doing/*.md
   ls specs/{feature}/tasks/for_review/*.md
   ```

- **통과**: 모든 WP 파일이 `done/` 레인에 있음
- **실패**: 다른 레인에 남아있는 작업 있음

### ✅ 아티팩트 완전성 검사

- [ ] `spec.md` 존재하고 완성됨

- [ ] `plan.md` 존재하고 완성됨

- [ ] `tasks.md` 존재하고 모든 작업이 `[x]`로 표시됨

- [ ] `research.md` (Phase 0이 사용된 경우)

- [ ] `data-model.md` (해당되는 경우)

### ✅ 품질 게이트 검사

- [ ] 모든 수락 기준 충족 (각 WP 파일 확인)

- [ ] 테스트 통과 (가능한 경우 테스트 스위트 실행)

- [ ] 문서 업데이트됨

- [ ] 코드에 [TODO] 또는 [FIXME] 마커 없음

- [ ] 코드 리뷰 완료됨

### ✅ 헌장 준수 (해당되는 경우)

- [ ] `.spec-mix/memory/constitution.md`의 프로젝트 원칙 준수

- [ ] 복잡성 게이트 위반 없음

- [ ] 아키텍처 결정 준수

1. **수락 보고서 생성**:
   ```markdown

   # 수락 보고서: {feature}

   **날짜**: {timestamp}
   **상태**: 준비됨 / 준비 안됨

   ## 체크리스트 결과

### 작업 완료: ✅ / ❌

- 총 작업 수: X
- 완료됨: X
- 대기 중: X

### 아티팩트: ✅ / ❌

- spec.md: ✅
- plan.md: ✅
- tasks.md: ✅

### 품질 게이트: ✅ / ❌

- 모든 수락 기준 충족: ✅
- 테스트 통과: ✅
- 문서 완성: ✅

   ## 발견된 문제

   [차단 요소나 우려사항 나열]

   ## 권장사항

   병합 승인됨 / 작업 필요
   ```

1. **수락 기록**:
- 보고서와 함께 `specs/{feature}/acceptance.md` 생성
- 존재하는 경우 `meta.json` 업데이트:
     ```json

     {
       "feature": "001-user-auth",
       "accepted_at": "2025-01-12T10:30:00Z",
       "accepted_by": "claude",
       "status": "ready_for_merge"
     }
     ```

1. **최종 조치**:

   **승인된 경우**:
   ```

   ✅ 기능 {feature}이(가) 병합 준비되었습니다!

   다음 단계: /spec-mix.merge를 실행하여 main 브랜치에 통합하세요
   ```

   **준비되지 않은 경우**:
   ```

   ❌ 기능 {feature}이(가) 병합 준비되지 않았습니다.

   다음 문제를 해결하세요:

- [문제 1]

- [문제 2]

   문제가 해결되면 /spec-mix.accept를 다시 실행하세요.
   ```

## 수락 기준

기능은 다음을 **모두** 충족해야 합니다:

1. **100% 작업 완료**: 모든 WP 파일이 `done/` 레인에 있음

1. **아티팩트 완전성**: 모든 필수 문서가 존재함

1. **품질 기준**: 테스트 통과, 문서 완성

1. **헌장 준수**: 원칙 위반 없음

1. **검토 승인**: 모든 작업이 검토되고 승인됨

## 엣지 케이스

- **부분 완료**: 어떤 작업/요구사항이 불완전한지 명확히 식별

- **테스트 실패**: 테스트가 통과할 때까지 수락 차단

- **누락된 아티팩트**: 누락된 문서를 생성하도록 사용자 안내

- **헌장 위반**: 정당화 또는 개선 필요

## 출력

명확하고 실행 가능한 피드백 제공:

```markdown

# 🎯 수락 검사: 001-user-authentication

## ✅ 병합 승인됨

### 요약

- 모든 8개 작업이 완료되어 done 레인에 있음

- 모든 필수 아티팩트 존재

- 테스트 통과 (24/24)

- 문서 업데이트됨

- 헌장 위반 없음

### 메트릭

- 완료율: 100% (8/8 작업)

- 품질 점수: 95%

- 테스트 커버리지: 87%

### 다음 단계

병합 준비 완료! 실행:

```bash

/spec-mix.merge

```text

또는 옵션과 함께:

```bash

/spec-mix.merge --strategy squash    # 모든 커밋 스쿼시

/spec-mix.merge --cleanup-worktree   # 병합 후 워크트리 제거

```text

```text
